---
import Layout from '../layouts/Layout.astro';
import Button from '../components/UI/Button.astro';
---

<Layout title="Fagaz SA - Contacto y Ubicación" description="Póngase en contacto con Fagaz SA. Estamos listos para atender sus necesidades industriales.">
    <!-- Hero -->
    <section class="relative w-full h-[250px] flex items-center justify-center overflow-hidden bg-black">
        <div class="absolute inset-0 z-0 opacity-60">
            <img alt="Industrial background texture" class="h-full w-full object-cover" src="/images/limpieza6.jpg"/>
        </div>
        <div class="relative z-10 container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-black text-white mb-2">Contacto</h1>
            <p class="text-white/80 text-lg">Estamos listos para atender sus necesidades industriales</p>
        </div>
    </section>

    <!-- Contact Info & Form -->
    <section class="py-20 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
                <!-- Info -->
                <div class="flex flex-col h-full">
                    <div class="mb-10">
                        <span class="text-primary font-bold uppercase tracking-wider text-sm mb-2 block">Información de Contacto</span>
                        <h2 class="text-3xl md:text-4xl font-bold text-[#111118] mb-6">Póngase en contacto con Fagaz S.A.</h2>
                        <p class="text-[#625e87] text-lg leading-relaxed mb-8">
                            Brindamos soluciones integrales para la industria. Visítenos en nuestra planta, llámenos o envíenos un correo electrónico para comenzar a optimizar sus operaciones.
                        </p>
                    </div>
                    <div class="space-y-8 mb-12">
                        <div class="flex items-start gap-4 p-4 rounded-xl bg-gray-50 border border-gray-100 hover:border-primary/30 transition-colors">
                            <div class="flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-primary/10 text-primary">
                                <span class="material-symbols-outlined text-2xl">location_on</span>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-[#111118] mb-1">Dirección</h3>
                                <p class="text-[#625e87]">Remondino 948<br/>San Lorenzo, Santa Fe<br/>Argentina</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4 p-4 rounded-xl bg-gray-50 border border-gray-100 hover:border-primary/30 transition-colors">
                            <div class="flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-primary/10 text-primary">
                                <span class="material-symbols-outlined text-2xl">call</span>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-[#111118] mb-1">Teléfono</h3>
                                <a class="text-[#625e87] hover:text-primary font-medium transition-colors text-lg" href="tel:+543476448409">+54 3476 448409</a>
                                <p class="text-sm text-gray-400 mt-1">Atención Lunes a Viernes, 8am - 5pm</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4 p-4 rounded-xl bg-gray-50 border border-gray-100 hover:border-primary/30 transition-colors">
                            <div class="flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-primary/10 text-primary">
                                <span class="material-symbols-outlined text-2xl">mail</span>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-[#111118] mb-1">Email</h3>
                                <a class="text-[#625e87] hover:text-primary font-medium transition-colors text-lg" href="mailto:info@fagazsa.com">info@fagazsa.com</a>
                            </div>
                        </div>
                    </div>
                    <div class="w-full h-80 bg-gray-200 rounded-xl overflow-hidden shadow-md border border-gray-200 mt-auto">
                        <iframe allowfullscreen="" class="grayscale hover:grayscale-0 transition-all duration-500" height="100%" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3356.5432658936676!2d-60.7512345!3d-32.7445678!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95b6534234234:0x123456789abcdef!2sRemondino%20948%2C%20San%20Lorenzo%2C%20Santa%20Fe!5e0!3m2!1ses!2sar!4v1620000000000!5m2!1ses!2sar" style="border:0;" title="Mapa de Ubicación Fagaz SA" width="100%"></iframe>
                    </div>
                </div>
                <!-- Form -->
                <div class="bg-background-light rounded-2xl p-8 lg:p-10 shadow-lg border border-gray-100 flex flex-col justify-center">
                    <h3 class="text-2xl font-bold text-[#111118] mb-2">¿Listo para optimizar sus operaciones?</h3>
                    <p class="text-[#625e87] mb-8">Complete el formulario y nos pondremos en contacto a la brevedad.</p>
                    <form action="https://api.web3forms.com/submit" method="POST" id="contact-form" class="space-y-5">
                        <input type="hidden" name="access_key" value="392a0797-bcaa-4eb1-8b30-1b03db06d3ec">
                        <!-- Optional: Custom Redirect or Success Message handling via JS -->
                        <input type="hidden" name="subject" value="Nuevo mensaje de contacto - Fagaz Web">
                        <input type="hidden" name="from_name" value="Fagaz Web">

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1" for="name">Nombre Completo</label>
                                <input class="w-full rounded-lg border-gray-300 shadow-sm focus:border-primary focus:ring-primary py-3 px-4" id="name" name="name" placeholder="Juan Pérez" type="text" required/>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1" for="company">Empresa</label>
                                <input class="w-full rounded-lg border-gray-300 shadow-sm focus:border-primary focus:ring-primary py-3 px-4" id="company" name="company" placeholder="Su Empresa S.A." type="text"/>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="email">Correo Electrónico</label>
                            <input class="w-full rounded-lg border-gray-300 shadow-sm focus:border-primary focus:ring-primary py-3 px-4" id="email" name="email" placeholder="juan@empresa.com" type="email" required/>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="phone">Teléfono / Celular</label>
                            <input class="w-full rounded-lg border-gray-300 shadow-sm focus:border-primary focus:ring-primary py-3 px-4" id="phone" name="phone" placeholder="+54 ..." type="tel"/>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="service">Servicio de Interés</label>
                            <select class="w-full rounded-lg border-gray-300 shadow-sm focus:border-primary focus:ring-primary py-3 px-4 text-gray-600" id="service" name="service">
                                <option disabled="" selected="" value="">Seleccione un servicio</option>
                                <option value="Limpieza Industrial">Limpieza Industrial</option>
                                <option value="Fumigación">Fumigación</option>
                                <option value="RRHH">Gestión de RRHH</option>
                                <option value="Otro">Otro</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="message">Mensaje</label>
                            <textarea class="w-full rounded-lg border-gray-300 shadow-sm focus:border-primary focus:ring-primary py-3 px-4" id="message" name="message" placeholder="¿Cómo podemos ayudarlo?" rows="4" required></textarea>
                        </div>
                        <div class="pt-2">
                            <Button type="submit" variant="primary" class="w-full py-4 text-base shadow-lg hover:shadow-xl hover:-translate-y-0.5">
                                Enviar Mensaje
                                <span class="material-symbols-outlined text-sm ml-2">send</span>
                            </Button>
                        </div>
                        <p class="text-xs text-center text-gray-400 mt-4">
                            Al enviar este formulario, acepta nuestra política de privacidad y términos de servicio.
                        </p>
                        <div id="form-result" class="text-center text-sm font-bold mt-4 hidden"></div>
                    </form>

                    <script>
                        const form = document.getElementById('contact-form');
                        const result = document.getElementById('form-result');

                        form.addEventListener('submit', function(e) {
                            e.preventDefault();
                            const formData = new FormData(form);
                            const object = Object.fromEntries(formData);
                            const json = JSON.stringify(object);
                            
                            result.innerHTML = "Enviando...";
                            result.classList.remove('hidden', 'text-green-600', 'text-red-600');
                            result.classList.add('text-gray-600');

                            fetch('https://api.web3forms.com/submit', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'Accept': 'application/json'
                                },
                                body: json
                            })
                            .then(async (response) => {
                                let json = await response.json();
                                if (response.status == 200) {
                                    result.innerHTML = "¡Mensaje enviado con éxito! Nos pondremos en contacto pronto.";
                                    result.classList.remove('text-gray-600');
                                    result.classList.add('text-green-600');
                                    form.reset();
                                } else {
                                    console.log(response);
                                    result.innerHTML = json.message;
                                    result.classList.remove('text-gray-600');
                                    result.classList.add('text-red-600');
                                }
                            })
                            .catch(error => {
                                console.log(error);
                                result.innerHTML = "Ocurrió un error. Por favor intente nuevamente.";
                                result.classList.remove('text-gray-600');
                                result.classList.add('text-red-600');
                            })
                            .then(function() {
                                form.reset();
                                setTimeout(() => {
                                    result.style.display = "none";
                                }, 5000);
                            });
                        });
                    </script>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="py-16 bg-gray-50 border-t border-gray-200">
        <div class="container mx-auto px-4 max-w-5xl text-center">
            <h2 class="text-2xl font-bold text-[#111118] mb-10">Preguntas Frecuentes</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-left">
                <div>
                    <h4 class="font-bold text-lg mb-2 text-primary">¿Horarios de atención?</h4>
                    <p class="text-sm text-[#625e87]">Nuestras oficinas administrativas operan de Lunes a Viernes de 8:00 a 17:00hs. Para emergencias industriales, consulte nuestros contratos de guardia.</p>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-2 text-primary">¿Área de cobertura?</h4>
                    <p class="text-sm text-[#625e87]">Principalmente operamos en el cordón industrial de San Lorenzo y Gran Rosario, pero realizamos proyectos en toda la provincia de Santa Fe.</p>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-2 text-primary">¿Presupuestos sin cargo?</h4>
                    <p class="text-sm text-[#625e87]">Sí, realizamos relevamientos técnicos y cotizaciones sin costo para nuevos clientes corporativos.</p>
                </div>
            </div>
        </div>
    </section>
</Layout>
